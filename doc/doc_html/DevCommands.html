<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<Title> Tango Device Server User's Guide </Title>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000FF" VLINK="#7F00FF" ALINK="#FF0000">

<P><!-------TITLE------></P>

<TABLE BORDER="0" WIDTH="100%">
    <TR>
        <TD ALIGN="left">
			<A HREF="http://www.esrf.fr/" TARGET=new>
			<IMG SRC="http://www.esrf.fr/gifs/logo/80.gif" BORDER=0></A>
		</Td>
        <TD ALIGN="center">
			<A HREF="http://www.elettra.trieste.it/" TARGET=new>
			<IMG SRC="http://www.esrf.fr/computing/cs/tango/elettra_logo.gif" BORDER=0></A>

		</Td>
        <TD ALIGN="center">
			<A HREF="http://www.synchrotron-soleil.fr/" TARGET=new>
			<IMG SRC="http://www.esrf.fr/computing/cs/tango/soleil_logo.gif" BORDER=0></A>
		</Td>
        <TD ALIGN="right">
			<A HREF="http://www.cells.es/" TARGET=new>
			<IMG SRC="http://www.esrf.fr/computing/cs/tango/alba.jpg" BORDER=0></A>
		</Td>
    	 <Td>
			<H2><FONT COLOR="#7F00FF">
			<Center><A HREF="http://www.esrf.fr/Infrastructure/Computing/tango/" TARGET="_top">
					 TANGO </a> <Br> Device Server
			</Center></FONT>
    	</Td>
    </TR>
</TABLE>

<HR WIDTH="100%"></H5>
<Br>
<center>
<h1>
RRontec		<Br>
Device Commands Description 		<Br> <Br>
Rontec Class	<Br>
</h1>
<b>
Revision:  - Author: tithub
</b>
</center>


<Br>
<Br>
<Br>
<A NAME="Init"><!-- --></A>
<A NAME="Init"><!-- --></A>
<h2>1 - Init</h2>
<ul>
<Li><Strong>Description: </Strong> This commands re-initialise a device keeping the same network connection.<Br>
After an Init command executed on a device, it is not necessary for client to re-connect to the device.<Br>
This command first calls the device <i> delete_device() </i>method and then execute its <i> init_device()</i> method.<Br>
For C++ device server, all the memory allocated in the <i> nit_device() </i> method must be freed in the <i> delete_device() </i> method.<Br>
The language device desctructor automatically calls the <i> delete_device() </i> method.<Br>&nbsp
<Li><Strong>Argin:<Br>DEV_VOID</Strong>
 : none.<Br>&nbsp
<Li><Strong>Argout:<Br>DEV_VOID</Strong>
 : none.<Br>&nbsp
<Li><Strong>Command allowed for: </Strong><Ul>
<Li>Tango::FAULT<Li>Tango::INIT<Li>Tango::RUNNING<Li>Tango::STANDBY<Li>Tango::UNKNOWN</Ul>
<Br>&nbsp
</ul><Br>
<Br>
<A NAME="State"><!-- --></A>
<A NAME="State"><!-- --></A>
<h2>2 - State</h2>
<ul>
<Li><Strong>Description: </Strong> This command gets the device state (stored in its <i>device_state</i> data member) and returns it to the caller.<Br>&nbsp
<Li><Strong>Argin:<Br>DEV_VOID</Strong>
 : none.<Br>&nbsp
<Li><Strong>Argout:<Br>DEV_STATE</Strong>
 : State Code<Br>&nbsp
<Li><Strong>Command allowed for: </Strong><Ul>
<Li>Tango::FAULT<Li>Tango::INIT<Li>Tango::RUNNING<Li>Tango::STANDBY<Li>Tango::UNKNOWN</Ul>
<Br>&nbsp
</ul><Br>
<Br>
<A NAME="Status"><!-- --></A>
<A NAME="Status"><!-- --></A>
<h2>3 - Status</h2>
<ul>
<Li><Strong>Description: </Strong> This command gets the device status (stored in its <i>device_status</i> data member) and returns it to the caller.<Br>&nbsp
<Li><Strong>Argin:<Br>DEV_VOID</Strong>
 : none.<Br>&nbsp
<Li><Strong>Argout:<Br>CONST_DEV_STRING</Strong>
 : Status description<Br>&nbsp
<Li><Strong>Command allowed for: </Strong><Ul>
<Li>Tango::FAULT<Li>Tango::INIT<Li>Tango::RUNNING<Li>Tango::STANDBY<Li>Tango::UNKNOWN</Ul>
<Br>&nbsp
</ul><Br>
<Br>
<A NAME="Abort"><!-- --></A>
<A NAME="Abort"><!-- --></A>
<h2>4 - Abort</h2>
<ul>
<Li><Strong>Description: </Strong> stops acquisition already running<Br>&nbsp
<Li><Strong>Argin:<Br>DEV_VOID</Strong>
 : <Br>&nbsp
<Li><Strong>Argout:<Br>DEV_VOID</Strong>
 : <Br>&nbsp
<Li><Strong>Command allowed for: </Strong><Ul>
<Li>Tango::FAULT<Li>Tango::RUNNING<Li>Tango::STANDBY</Ul>
<Br>&nbsp
</ul><Br>
<Br>
<A NAME="Arm"><!-- --></A>
<A NAME="Arm"><!-- --></A>
<h2>5 - Arm</h2>
<ul>
<Li><Strong>Description: </Strong> will Arm the MCA (ie prepare the MCA).<Br>&nbsp
<Li><Strong>Argin:<Br>DEV_VOID</Strong>
 : <Br>&nbsp
<Li><Strong>Argout:<Br>DEV_VOID</Strong>
 : <Br>&nbsp
<Li><Strong>Command allowed for: </Strong><Ul>
<Li>Tango::FAULT<Li>Tango::RUNNING<Li>Tango::STANDBY</Ul>
<Br>&nbsp
</ul><Br>
<Br>
<A NAME="ClearData"><!-- --></A>
<A NAME="ClearData"><!-- --></A>
<h2>6 - ClearData</h2>
<ul>
<Li><Strong>Description: </Strong> clears the acquisition memory<Br>&nbsp
<Li><Strong>Argin:<Br>DEV_VOID</Strong>
 : <Br>&nbsp
<Li><Strong>Argout:<Br>DEV_VOID</Strong>
 : <Br>&nbsp
<Li><Strong>Command allowed for: </Strong><Ul>
<Li>Tango::FAULT<Li>Tango::RUNNING<Li>Tango::STANDBY</Ul>
<Br>&nbsp
</ul><Br>
<Br>
<A NAME="GetPartOfSpectrum"><!-- --></A>
<A NAME="GetPartOfSpectrum"><!-- --></A>
<h2>7 - GetPartOfSpectrum</h2>
<ul>
<Li><Strong>Description: </Strong> returns the data starting at argin[0] (exception if argin[0] < starting channel cofigured
for argin[1] channel truncated if exceeds the end_channel configured<Br>&nbsp
<Li><Strong>Argin:<Br>DEVVAR_DOUBLEARRAY</Strong>
 : [0]starting channel, [1] size of channel<Br>&nbsp
<Li><Strong>Argout:<Br>DEVVAR_LONGARRAY</Strong>
 : the data <Br>&nbsp
<Li><Strong>Command allowed for: </Strong><Ul>
<Li>Tango::FAULT<Li>Tango::RUNNING<Li>Tango::STANDBY</Ul>
<Br>&nbsp
</ul><Br>
<Br>
<A NAME="GetPauseStatus"><!-- --></A>
<A NAME="GetPauseStatus"><!-- --></A>
<h2>8 - GetPauseStatus</h2>
<ul>
<Li><Strong>Description: </Strong> returns PAUSE or RUNNING according to acquisition stopped or running<Br>&nbsp
<Li><Strong>Argin:<Br>DEV_VOID</Strong>
 : <Br>&nbsp
<Li><Strong>Argout:<Br>DEV_STRING</Strong>
 : PAUSE/RUNNING<Br>&nbsp
<Li><Strong>Command allowed for: </Strong><Ul>
<Li>Tango::FAULT<Li>Tango::RUNNING<Li>Tango::STANDBY</Ul>
<Br>&nbsp
</ul><Br>
<Br>
<A NAME="GetSpeedAndResolutionConfiguration"><!-- --></A>
<A NAME="GetSpeedAndResolutionConfiguration"><!-- --></A>
<h2>9 - GetSpeedAndResolutionConfiguration</h2>
<ul>
<Li><Strong>Description: </Strong> returns the processor configured :
0 : max cps 1 : ... cps 2 : ..... cps 3 : min cps<Br>&nbsp
<Li><Strong>Argin:<Br>DEV_VOID</Strong>
 : <Br>&nbsp
<Li><Strong>Argout:<Br>DEV_LONG</Strong>
 : processor number actually selected<Br>&nbsp
<Li><Strong>Command allowed for: </Strong><Ul>
<Li>Tango::FAULT<Li>Tango::RUNNING<Li>Tango::STANDBY</Ul>
<Br>&nbsp
</ul><Br>
<Br>
<A NAME="Reset"><!-- --></A>
<A NAME="Reset"><!-- --></A>
<h2>10 - Reset</h2>
<ul>
<Li><Strong>Description: </Strong> <Br>&nbsp
<Li><Strong>Argin:<Br>DEV_VOID</Strong>
 : <Br>&nbsp
<Li><Strong>Argout:<Br>DEV_STRING</Strong>
 : string returend by the rontec<Br>&nbsp
<Li><Strong>Command allowed for: </Strong><Ul>
<Li>Tango::FAULT<Li>Tango::RUNNING<Li>Tango::STANDBY</Ul>
<Br>&nbsp
</ul><Br>
<Br>
<A NAME="SendRontecMessage"><!-- --></A>
<A NAME="SendRontecMessage"><!-- --></A>
<h2>11 - SendRontecMessage</h2>
<ul>
<Li><Strong>Description: </Strong> <Br>&nbsp
<Li><Strong>Argin:<Br>DEV_STRING</Strong>
 : the command and arguments to be sent<Br>&nbsp
<Li><Strong>Argout:<Br>DEV_STRING</Strong>
 : the rontec answer as string<Br>&nbsp
<Li><Strong>Command allowed for: </Strong><Ul>
<Li>Tango::FAULT<Li>Tango::RUNNING<Li>Tango::STANDBY</Ul>
<Br>&nbsp
</ul><Br>
<Br>
<A NAME="SetROIs"><!-- --></A>
<A NAME="SetROIs"><!-- --></A>
<h2>12 - SetROIs</h2>
<ul>
<Li><Strong>Description: </Strong> Set the ROIs. the parameter is an array with values going by pair: tab[0]=126, tab[1]=238 -> first ROI starts from 126, ends to 238 tab[2]=1569,tab[3]=2368 -> second ROI starts from 1569, ends to 2368.<Br>&nbsp
<Li><Strong>Argin:<Br>DEVVAR_DOUBLEARRAY</Strong>
 : starts and ends of the ROI. eg: tab[0]=126, tab[1]=238, tab[2]=1569,tab[3]=2368<Br>&nbsp
<Li><Strong>Argout:<Br>DEV_VOID</Strong>
 : <Br>&nbsp
<Li><Strong>Command allowed for: </Strong><Ul>
<Li>Tango::FAULT<Li>Tango::RUNNING<Li>Tango::STANDBY</Ul>
<Br>&nbsp
</ul><Br>
<Br>
<A NAME="SetSingleROI"><!-- --></A>
<A NAME="SetSingleROI"><!-- --></A>
<h2>13 - SetSingleROI</h2>
<ul>
<Li><Strong>Description: </Strong> configures the TTL output number for pulse output photons processed with
low_channel < energy < high_channel
the RONTEC waits for energy so we retreive energy in DServer from channel and MaxFluoEnergy
channels are retreived according amplifier and energy calibration.
not alowed if acquisition is running
Exception if ROI number not in the ConnectedROIMask property<Br>&nbsp
<Li><Strong>Argin:<Br>DEVVAR_DOUBLEARRAY</Strong>
 : [0] : TTL output number, [1] low energy (eV), [2] high energy (eV)<Br>&nbsp
<Li><Strong>Argout:<Br>DEV_VOID</Strong>
 : <Br>&nbsp
<Li><Strong>Command allowed for: </Strong><Ul>
<Li>Tango::FAULT<Li>Tango::RUNNING<Li>Tango::STANDBY</Ul>
<Br>&nbsp
</ul><Br>
<Br>
<A NAME="SetSpeedAndResolutionConfiguration"><!-- --></A>
<A NAME="SetSpeedAndResolutionConfiguration"><!-- --></A>
<h2>14 - SetSpeedAndResolutionConfiguration</h2>
<ul>
<Li><Strong>Description: </Strong> selects the processor
0 : max cps ...... 3 : min cps
depends on real hardware
exception if error<Br>&nbsp
<Li><Strong>Argin:<Br>DEV_LONG</Strong>
 : the processor selected 0..3<Br>&nbsp
<Li><Strong>Argout:<Br>DEV_VOID</Strong>
 : <Br>&nbsp
<Li><Strong>Command allowed for: </Strong><Ul>
<Li>Tango::FAULT<Li>Tango::RUNNING<Li>Tango::STANDBY</Ul>
<Br>&nbsp
</ul><Br>
<Br>
<A NAME="Start"><!-- --></A>
<A NAME="Start"><!-- --></A>
<h2>15 - Start</h2>
<ul>
<Li><Strong>Description: </Strong> starts a acquisition previously configured with attributes startingChannel, endingChannel, integrationTime
for time given in integrationTime
clears memory in the MCA if not done.
for continuous acquisition : integrationTime=0<Br>&nbsp
<Li><Strong>Argin:<Br>DEV_VOID</Strong>
 : <Br>&nbsp
<Li><Strong>Argout:<Br>DEV_VOID</Strong>
 : <Br>&nbsp
<Li><Strong>Command allowed for: </Strong><Ul>
<Li>Tango::FAULT<Li>Tango::STANDBY</Ul>
<Br>&nbsp
</ul><Br>
<Br>

<Center>
<Br>
<HR WIDTH="100%"></H5>
<H3> ESRF - Software Engineering Group </H3>
</Center>
</body>
</html>
